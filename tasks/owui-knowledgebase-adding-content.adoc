[[owui-knowledgebase-adding-content]]
= Adding content to a knowledge base

ifndef::part-of-article[]
This topic explains how to add new content to an existing knowledge base. 
endif::[]

.File upload size limit
[IMPORTANT]
====
The default configuration allows file uploads up to 1{nbsp}MB.
To enable larger file uploads, follow these steps: 

. Update {ingress} configuration by creating the `ingress.yaml` file with the following content. 
+
----
apiVersion: networking.k8s.io/v1
  kind: Ingress
  metadata:
    name: open-webui
    namespace: SUSE_AI_NAMESPACE
    annotations:
      nginx.ingress.kubernetes.io/proxy-body-size: 100m <.>
      nginx.ingress.kubernetes.io/proxy-connect-timeout: "360"
      nginx.ingress.kubernetes.io/proxy-read-timeout: "360"
      nginx.ingress.kubernetes.io/proxy-send-timeout: "360"
      nginx.ingress.kubernetes.io/websocket-services: "open-webui"
----
<.> This example sets the upload file size limit to 100{nbsp}MB.
    Setting this value to `0` allows unlimited upload size (not recommended).
+
. Apply the changes so that large file uploads are supported. 
+
[source,bash]
----
> kubectl apply -f ingress.yaml 
----
====

.Requirements
* {empty}
+
include::../snippets/openwebui-requirement-admin-privileges.adoc[]

. In the {owui} interface, click menu:Workspace[] in the upper part of the left panel and select the menu:Knowledge[] tab. 
. Scroll to the knowledge base that you want to add content to. Use the pager at the bottom if the knowledge base is not listed on the current screen. 
. Click the knowledge base name and in the menu:Search Collection [] files, click the "plus" sign. 
. From the drop-down list, you can select one of the following actions:
+
--
Upload files:::
Select one or more documents to be added to the collection.

Upload directory:::
Select a directory whose contents will be added to the collection one item at a time.
+
include::../snippets/openwebui-knowledgebase-warning.adoc[]

Sync directory:::
The selected directory is synchronized with the content of the collection.
+
.The collection content will be deleted
[WARNING]
====
Before {owui} starts to synchronize the directory, all existing resources in the collection are deleted.
====
+
include::../snippets/openwebui-knowledgebase-warning.adoc[leveloffset=+1]

Add text content:::
You can add a text snippet written in a Markdown format to the collection directly.
+
[WARNING]
====
If you experience the error saying "Extracted content is not available for this
file. Please ensure that the file is processed before proceeding," during the
upload process, you need to enable installing NLTK datasets in the {owui} {helm}
chart.
Refer to {dsc}/suse-ai/1.0/html/AI-deployment-intro/index.html#owui-helm-overrides for details.
====

Confirm with menu:Upload[]

--

. The uploaded resource is processed and analyzed so that you can use it as a context for selected AI models. The processing time may vary depending on the size of the uploaded resources. 
+ 
After a resource is added, you can view and edit its extracted textual information by clicking its name. 
+
.Viewing an extracted resource
image::owui-knowledgebase-viewtext.png[Viewing an extracted resource,scaledwidth=75%]
