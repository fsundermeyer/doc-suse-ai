[#cert-manager-installing]
= Installing {certmanager}

{certmanager} is an extensible X.509 certificate controller for {kube} workloads.
It supports certificates from popular public issuers as well as private issuers.
{certmanager} ensures that the certificates are valid and up-to-date, and attempts to renew certificates at a configured time before expiry.

In previous releases, {certmanager} was automatically installed together with {owui}.
Currently, {certmanager} is no longer part of the {owui} {helm} chart and you need to install it separately.

[#cert-manager-app-details]
== Details about the {certmanager} application

Before deploying {certmanager}, it is important to know more about the supported configurations and documentation.
The following command provides the corresponding details:

[source,bash]
----
helm show values oci://dp.apps.rancher.io/charts/cert-manager
----

Alternatively, you can also refer to the {certmanager} {helm} chart page on the {sappco} site at link:https://apps.rancher.io/applications/cert-manager[].
It contains available versions and the link to pull the {certmanager} container image.

[#cert-manager-installing-procedure]
== {certmanager} installation procedure

include::../snippets/ai-library-requirement.adoc[]

. Install the {certmanager} chart.
+
ifdef::deployment_standard[]
[source,bash,subs="+attributes"]
----
{prompt_user}helm upgrade --install cert-manager \
  oci://dp.apps.rancher.io/charts/cert-manager \
  -n <CERT_MANAGER_NAMESPACE> \
  --set crds.enabled=true \
  --set 'global.imagePullSecrets[0].name'=application-collection
----
endif::[]
ifdef::deployment_airgap[]
[source,bash,subs="+attributes"]
----
{prompt_user}helm upgrade \
--install cert-manager charts/cert-manager-<X.Y.Z>.tgz \
  -n <CERT_MANAGER_NAMESPACE> \
  --set crds.enabled=true \
  --set 'global.imagePullSecrets[0].name'=application-collection \
  --set 'global.imageRegistry'=<LOCAL_DOCKER_REGISTRY_URL>:5043
----
endif::[]

ifdef::deployment_standard[]
[#cert-manager-upgrading]
== Upgrading {certmanager}

To upgrade {certmanager} to a specific new version, run the following command:

[source,bash,subs="+attributes"]
----
{prompt_user}helm upgrade --install cert-manager \
  oci://dp.apps.rancher.io/charts/cert-manager \
  -n <CERT_MANAGER_NAMESPACE> \
  --version <VERSION_NUMBER>
----

To upgrade {certmanager} to the latest version, run the following command:

[source,bash,subs="+attributes"]
----
{prompt_user}helm upgrade --install cert-manager \
  oci://dp.apps.rancher.io/charts/cert-manager \
  -n <CERT_MANAGER_NAMESPACE>
----
endif::[]

[#cert-manager-uninstalling]
== Uninstalling {certmanager}

To uninstall {certmanager}, run the following command:

[source,bash,subs="+attributes"]
----
{prompt_user}helm uninstall cert-manager -n <CERT_MANAGER_NAMESPACE>
----
